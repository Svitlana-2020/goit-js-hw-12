{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/refs.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '44855126-e7e59ad0378cdd72f172648f5';\n\nexport function getPictureByQuery(query) {\n    return fetch (`https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=\"photo\"&orientation=\"horizontal\"&safesearch=\"true\"`)\n    .then((res) => {\n                    console.log(res);\n                        if (!res.ok) {\n                            throw new Error (res.status);\n                        }\n                        return res.json();\n                            })}\n","export const refs = {\n    inputQ: document.querySelector('.input'),\n    galleryCard: document.querySelector('.list-class'),\n    searchBtn: document.querySelector('.start-btn'),\n    formForm: document.querySelector('.input-button'),\n    loader: document.querySelector('.loader')\n    }","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { refs } from \"./refs\";\n\nexport const lightbox = new SimpleLightbox('.gallery-item a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    spinner: true,\n  });\n\nexport function renderGalleryMarkup(array) {\n    const markUp = array.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n    <li class = \"gallery-item\">\n    \n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <div class=\"img-container\">\n            <img \n                class=\"gallery-img\" \n                src=\"${webformatURL}\" \n                alt=\"${tags}\" \n                />\n                </div>\n        </a>\n       \n        <div class=\"numbers-group\">\n                 <span class=\"group\">\n        <p class=\"numbers\">Likes</p>\n        <p class=\"number\">${likes}</p>\n                </span>\n                    <span class=\"group\">\n        <p class=\"numbers\">Views</p>\n         <p class=\"number\">${views}</p>\n                    </span>\n                    <span class=\"group\">\n        <p class=\"numbers\">Comments</p>\n        <p class=\"number\">${comments}</p>\n                    </span>\n                    <span class=\"group\">\n        <p class=\"numbers\">Downloads</p>\n        <p class=\"number\">${downloads}</p>\n                    </span>\n        </div>\n    </li>\n    `  ).join('');\n    refs.galleryCard.insertAdjacentHTML('beforeend', markUp);\n    lightbox.refresh();\n    }","import { getPictureByQuery } from \"./js/pixabay-api\";\nimport { lightbox, renderGalleryMarkup } from \"./js/render-functions\";\nimport { refs } from \"./js/refs\";\n\n\nrefs.formForm.addEventListener('submit', handleSearch);\n// refs.galleryCard.addEventListener('load', function() {\n//     refs.loader.style.display = 'none';\n// });\n\n            function handleSearch(e) {\n                        e.preventDefault();\n                        const form = e.currentTarget;\n                        const queryValue = form.elements.inputf.value.trim();\n                        refs.loader.style.display = 'block';\n                        refs.galleryCard.innerHTML = '';\n                        if (queryValue === \"\") {\n                            {\n                                refs.loader.style.display = 'none';\n                                iziToast.show({\n                                    message: '\"Enter a search query in a search field. Pls try again\"',\n                                    messageColor: 'white',\n                                    messageLineHeight: '150%',\n                                    backgroundColor: '#ef4040',\n                                    position: 'topRight'\n                                            })\n                                    }\n                                    return;\n                        }\n                                getPictureByQuery(queryValue)\n                                    .then(({ hits }) => {\n                                        if (hits && hits.length > 0) {\n                                        renderGalleryMarkup(hits);}\n                                        else {\n                                            return Promise.reject(new Error(''));\n                                        }\n                                        refs.loader.style.display = 'none';\n                                    })\n                                    .catch(fetchError)\n                        .finally(() => {\n        form.reset(); // скидання форми навіть у випадку помилки\n    });\n                    }\n\n                    function fetchError(err) {\n                        refs.loader.style.display = 'none';\n                        iziToast.show({\n                            message: '\"Sorry, there are no images matching your search query. Please try again!\"',\n                            messageColor: 'white',\n                            messageLineHeight: '150%',\n                            backgroundColor: '#ef4040',\n                            position: 'topRight'\n                                    })\n                            }\n\n// lightbox.on('show.simplelightbox', function () {\n//         });\n"],"names":["apiKey","getPictureByQuery","query","res","refs","lightbox","SimpleLightbox","renderGalleryMarkup","array","markUp","webformatURL","largeImageURL","tags","likes","views","comments","downloads","handleSearch","e","form","queryValue","hits","fetchError","err"],"mappings":"svBAAA,MAAMA,EAAS,qCAER,SAASC,EAAkBC,EAAO,CACrC,OAAO,MAAO,gCAAgCF,CAAM,MAAME,CAAK,gEAAgE,EAC9H,KAAMC,GAAQ,CAEK,GADJ,QAAQ,IAAIA,CAAG,EACP,CAACA,EAAI,GACL,MAAM,IAAI,MAAOA,EAAI,MAAM,EAE/B,OAAOA,EAAI,MACnC,CAA6B,CAAC,CCVvB,MAAMC,EAAO,CAChB,OAAQ,SAAS,cAAc,QAAQ,EACvC,YAAa,SAAS,cAAc,aAAa,EACjD,UAAW,SAAS,cAAc,YAAY,EAC9C,SAAU,SAAS,cAAc,eAAe,EAChD,OAAQ,SAAS,cAAc,SAAS,CAC5C,ECAaC,EAAW,IAAIC,EAAe,kBAAmB,CAC1D,aAAc,MACd,gBAAiB,SACjB,QAAS,EACb,CAAG,EAEI,SAASC,EAAoBC,EAAO,CACvC,MAAMC,EAASD,EAAM,IAAI,CAAC,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA;AAAA,oCAGrEL,CAAa;AAAA;AAAA;AAAA;AAAA,uBAI1BD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAQCC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAIJC,CAAK;AAAA;AAAA;AAAA;AAAA,4BAINC,CAAQ;AAAA;AAAA;AAAA;AAAA,4BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAI7B,EAAC,KAAK,EAAE,EACZZ,EAAK,YAAY,mBAAmB,YAAaK,CAAM,EACvDJ,EAAS,QAAO,CACpB,CC3CAD,EAAK,SAAS,iBAAiB,SAAUa,CAAY,EAKzC,SAASA,EAAaC,EAAG,CACbA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,cACTE,EAAaD,EAAK,SAAS,OAAO,MAAM,OAG9C,GAFAf,EAAK,OAAO,MAAM,QAAU,QAC5BA,EAAK,YAAY,UAAY,GACzBgB,IAAe,GAAI,CAEfhB,EAAK,OAAO,MAAM,QAAU,OAC5B,SAAS,KAAK,CACV,QAAS,0DACT,aAAc,QACd,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,UAC9C,CAA6C,EAET,MACX,CACOH,EAAkBmB,CAAU,EACvB,KAAK,CAAC,CAAE,KAAAC,KAAW,CAChB,GAAIA,GAAQA,EAAK,OAAS,EAC1Bd,EAAoBc,CAAI,MAEpB,QAAO,QAAQ,OAAO,IAAI,MAAM,EAAE,CAAC,EAEvCjB,EAAK,OAAO,MAAM,QAAU,MACpE,CAAqC,EACA,MAAMkB,CAAU,EAC5B,QAAQ,IAAM,CAC/BH,EAAK,MAAK,CAClB,CAAK,CACgB,CAED,SAASG,EAAWC,EAAK,CACrBnB,EAAK,OAAO,MAAM,QAAU,OAC5B,SAAS,KAAK,CACV,QAAS,6EACT,aAAc,QACd,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,UACtC,CAAqC,CACR"}